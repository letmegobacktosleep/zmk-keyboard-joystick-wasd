# Copyright (c) 2020 The ZMK Contributors
# SPDX-License-Identifier: MIT

DT_COMPAT_ZMK_KSCAN_GPIO_DIRECT_TWO := zmk,kscan-gpio-direct-two

if KSCAN

config ZMK_KSCAN_GPIO_DRIVER
    bool
    select GPIO
    select ZMK_DEBOUNCE

config ZMK_KSCAN_GPIO_DIRECT_TWO
    bool
    default $(dt_compat_enabled,$(DT_COMPAT_ZMK_KSCAN_GPIO_DIRECT_TWO))
    select ZMK_KSCAN_GPIO_DRIVER

if ZMK_KSCAN_GPIO_DRIVER

config ZMK_KSCAN_MATRIX_POLLING
    bool "Poll for key event triggers instead of using interrupts on matrix boards."

config ZMK_KSCAN_DIRECT_POLLING
    bool "Poll for key event triggers instead of using interrupts on direct wired boards."

config ZMK_KSCAN_DEBOUNCE_PRESS_MS
    int "Debounce time for key press in milliseconds."
    default -1
    help
        Global debounce time for key press in milliseconds.
        If this is -1, the debounce time is controlled by the debounce-press-ms
        Devicetree property, which defaults to 5 ms. Otherwise this overrides the
        debounce time for all key scan drivers to the chosen value.

config ZMK_KSCAN_DEBOUNCE_RELEASE_MS
    int "Debounce time for key release in milliseconds."
    default -1
    help
        Global debounce time for key release in milliseconds.
        If this is -1, the debounce time is controlled by the debounce-release-ms
        Devicetree property, which defaults to 5 ms. Otherwise this overrides the
        debounce time for all key scan drivers to the chosen value.

endif

endif # KSCAN
